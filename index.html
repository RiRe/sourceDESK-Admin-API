
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Admin API â€“ sourceDESK</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="php">php</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication-amp-request" class="toc-h1 toc-link" data-title="Authentication &amp; Request">Authentication &amp; Request</a>
          </li>
          <li>
            <a href="#error-handling" class="toc-h1 toc-link" data-title="Error handling">Error handling</a>
          </li>
          <li>
            <a href="#admin" class="toc-h1 toc-link" data-title="Admin">Admin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-my-details" class="toc-h2 toc-link" data-title="Get my details">Get my details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#clients" class="toc-h1 toc-link" data-title="Clients">Clients</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-clients" class="toc-h2 toc-link" data-title="Get all clients">Get all clients</a>
                  </li>
                  <li>
                    <a href="#get-client-details" class="toc-h2 toc-link" data-title="Get client details">Get client details</a>
                  </li>
                  <li>
                    <a href="#create-a-client" class="toc-h2 toc-link" data-title="Create a client">Create a client</a>
                  </li>
                  <li>
                    <a href="#modify-a-client" class="toc-h2 toc-link" data-title="Modify a client">Modify a client</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#invoices" class="toc-h1 toc-link" data-title="Invoices">Invoices</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-invoices" class="toc-h2 toc-link" data-title="Get all invoices">Get all invoices</a>
                  </li>
                  <li>
                    <a href="#get-invoice-details" class="toc-h2 toc-link" data-title="Get invoice details">Get invoice details</a>
                  </li>
                  <li>
                    <a href="#create-an-invoice" class="toc-h2 toc-link" data-title="Create an invoice">Create an invoice</a>
                  </li>
                  <li>
                    <a href="#modify-an-invoice" class="toc-h2 toc-link" data-title="Modify an invoice">Modify an invoice</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://sourceway.de/en/imprint?layout=sourcedesk'>Imprint</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Admin API of sourceDESK. You can use this API as sourceDESK admin to access and manage objects in sourceDESK. Therefore, you need your API key, which you can create in the administration. This documentation covers all available API actions.</p>

<p>We provide example codes in Shell and PHP. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication-amp-request'>Authentication &amp; Request</h1>
<blockquote>
<p>To make a request, use this code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/me"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/me"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>API_KEY</code> with your API key.</p>
</blockquote>

<p>sourceDESK uses an API key to allow access to the API. You can find your API key in your admin area.</p>

<p>Parameters should be sent in the HTTP request body. The API is RESTful, it uses different HTTP methods like <code>GET</code> and <code>POST</code>.</p>

<p>sourceDESK expects for the API key to be included in all API requests to the server in the request.</p>

<p>A request URL is formatted as follows:</p>

<p><code>/admin/api.php/ACTION</code></p>

<aside class="notice">
Hereby, <code>API_KEY</code> is your API key and <code>ACTION</code> is the task you want to execute.
</aside>
<h1 id='error-handling'>Error handling</h1>
<blockquote>
<p>An example error:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No action submitted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If an error occures, the JSON response contains an element <code>error</code> with an error description. Make sure to watch out for errors and handle them.</p>
<h1 id='admin'>Admin</h1><h2 id='get-my-details'>Get my details</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/me"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/me"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"online"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"english"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can get details of your own admin account. This can be used to check successful authentication.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code>GET /me</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<p>This request does not expect any parameters.</p>
<h1 id='clients'>Clients</h1><h2 id='get-all-clients'>Get all clients</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/client"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/client"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can get a list of all clients.</p>
<h3 id='http-request-2'>HTTP request</h3>
<p><code>GET /client</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<p>This request does not expect any parameters.</p>
<h2 id='get-client-details'>Get client details</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/client/1"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/client/1"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"salutation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MALE"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vatid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example street"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example city"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"country_alpha2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"birthday"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"english"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"special_credit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"registered"</span><span class="p">:</span><span class="w"> </span><span class="mi">1414250917</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_login"</span><span class="p">:</span><span class="w"> </span><span class="mi">1536514408</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1536514439</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.8.8.8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reseller"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"login_notify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"newsletter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3|2|1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can get the details of a client.</p>
<h3 id='http-request-3'>HTTP request</h3>
<p><code>GET /client/CLIENT_ID</code></p>

<aside class="notice">Please replace <code>CLIENT_ID</code> with the customer ID of the client you want to get.</aside>
<h3 id='query-parameters-3'>Query Parameters</h3>
<p>This request does not expect any parameters, except the client ID in the URL.</p>
<h2 id='create-a-client'>Create a client</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$req</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"firstname"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"lastname"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="s2">"mail"</span> <span class="o">=&gt;</span> <span class="s2">"john.doe@example.com"</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/client"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"POST"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$req</span><span class="p">));</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/client"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span> -X POST -d <span class="nv">firstname</span><span class="o">=</span>John -d <span class="nv">lastname</span><span class="o">=</span>Doe -d <span class="nv">mail</span><span class="o">=</span>john.doe@example.com
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XTuva2M7oBSK"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can create a new client.</p>
<h3 id='http-request-4'>HTTP request</h3>
<p><code>POST /client</code></p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstname</td>
<td>-</td>
<td><strong>Required</strong> Firstname of client</td>
</tr>
<tr>
<td>lastname</td>
<td>-</td>
<td><strong>Required</strong> Lastname of client</td>
</tr>
<tr>
<td>mail</td>
<td>-</td>
<td><strong>Required</strong> Email address of client</td>
</tr>
<tr>
<td>pwd</td>
<td>-</td>
<td>Password for client (if not set, a password is generated by system and returned)</td>
</tr>
</tbody></table>
<h2 id='modify-a-client'>Modify a client</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$req</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"company"</span> <span class="o">=&gt;</span> <span class="s2">"John Doe Ltd."</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/client/1"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"POST"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$req</span><span class="p">));</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/client/1"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span> -X POST -d <span class="nv">company</span><span class="o">=</span>John+Doe+Ltd.
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can modify an existing client.</p>
<h3 id='http-request-5'>HTTP request</h3>
<p><code>PUT /client/CLIENT_ID</code></p>

<aside class="notice">Please replace <code>CLIENT_ID</code> with the customer ID of the client you want to modify.</aside>
<h3 id='query-parameters-5'>Query Parameters</h3>
<p>You can use all columns of the database table <code>clients</code> as element containing the wished new value of this column. With one request, you can change as many values as you want.</p>
<h1 id='invoices'>Invoices</h1><h2 id='get-all-invoices'>Get all invoices</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/invoice"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/invoice"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duedate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customno"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can get a list of all invoices.</p>
<h3 id='http-request-6'>HTTP request</h3>
<p><code>GET /invoice</code></p>
<h3 id='query-parameters-6'>Query Parameters</h3>
<p>This request does not expect any parameters.</p>
<h2 id='get-invoice-details'>Get invoice details</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/invoice/1"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/invoice/1"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"duedate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-20"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deliverydate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"client"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customno"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"no_reminders"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"voucher"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"latefee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
  </span><span class="s2">"letter_sent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"encashment_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"encashment_file"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cancel_invoice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice position"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"relid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can get the details of a client.</p>
<h3 id='http-request-7'>HTTP request</h3>
<p><code>GET /invoice/INVOICE_ID</code></p>

<aside class="notice">Please replace <code>INVOICE_ID</code> with the invoice ID of the invoice you want to get.</aside>
<h3 id='query-parameters-7'>Query Parameters</h3>
<p>This request does not expect any parameters, except the invoice ID in the URL.</p>
<h2 id='create-an-invoice'>Create an invoice</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$req</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"client"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"items"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">[</span>
      <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Invoice position"</span><span class="p">,</span>
      <span class="s2">"amount"</span> <span class="o">=&gt;</span> <span class="mf">9.99</span><span class="p">,</span>
      <span class="s2">"tax"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">],</span>
  <span class="p">],</span>
<span class="p">];</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/client"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"POST"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$req</span><span class="p">));</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/client"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span> -X POST --data <span class="s2">"client=1&amp;items%5B0%5D%5Bdescription%5D=Invoice+position&amp;items%5B0%5D%5Bamount%5D=9.99&amp;items%5B0%5D%5Btax%5D=1"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can create a new invoice.</p>
<h3 id='http-request-8'>HTTP request</h3>
<p><code>POST /invoice</code></p>
<h3 id='query-parameters-8'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client</td>
<td>-</td>
<td><strong>Required</strong> ID of customer</td>
</tr>
<tr>
<td>items[]</td>
<td>-</td>
<td><strong>At lease one is required</strong> Array of items</td>
</tr>
<tr>
<td>- description</td>
<td>-</td>
<td><strong>Required</strong> Description of invoice items</td>
</tr>
<tr>
<td>- amount</td>
<td>-</td>
<td><strong>Required</strong> Amount of invoice items</td>
</tr>
<tr>
<td>- tax</td>
<td>false</td>
<td>Set to <code>true</code> if tax applies for item</td>
</tr>
<tr>
<td>date</td>
<td>-</td>
<td>Optional, otherwise todays date is used (Format: YYYY-MM-DD)</td>
</tr>
<tr>
<td>duedate</td>
<td>-</td>
<td>Optional, otherwise standard date is used (Format: YYYY-MM-DD)</td>
</tr>
</tbody></table>
<h2 id='modify-an-invoice'>Modify an invoice</h2><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$req</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"duedate"</span> <span class="o">=&gt;</span> <span class="s2">"2019-01-27"</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="s2">"https://sourceway.de/admin/api.php/invoice/1"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
  <span class="s2">"Authorization: Bearer API_KEY"</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"POST"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$req</span><span class="p">));</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">die</span><span class="p">(</span><span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
<span class="p">}</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://sourceway.de/admin/api.php/invoice/1"</span> -H <span class="s2">"Authorization: Bearer API_KEY"</span> -X POST -d <span class="nv">date</span><span class="o">=</span>2019-01-27
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Using this endpoint, you can modify an existing invoice.</p>
<h3 id='http-request-9'>HTTP request</h3>
<p><code>PUT /invoice/INVOICE_ID</code></p>

<aside class="notice">Please replace <code>INVOICE_ID</code> with the customer ID of the invoice you want to modify.</aside>
<h3 id='query-parameters-9'>Query Parameters</h3>
<p>You can use all columns of the database table <code>invoices</code> as element containing the wished new value of this column. With one request, you can change as many values as you want.</p>

<p>In addition, you can pass an <code>items</code> array to create new invoice items and modify existing ones. Each element of this array should also be an array with the following parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>-</td>
<td><strong>Required for modification</strong> Otherwise, new item is created</td>
</tr>
<tr>
<td>description</td>
<td>-</td>
<td><strong>Required</strong> Description of invoice items</td>
</tr>
<tr>
<td>amount</td>
<td>-</td>
<td><strong>Required</strong> Amount of invoice items</td>
</tr>
<tr>
<td>tax</td>
<td>false</td>
<td>Set to <code>true</code> if tax applies for item</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
